DynamicHeader=function(){var e,t,n,o,i,d;function l(){return n.offsetHeight}function r(){return u()<0}function s(){n.style.transition="0.2s ease-in-out",n.style.position="fixed",n.style.top="0",n.style.left="0",n.style.right="0"}function c(){if(e.headerId&&(n=document.getElementById(e.headerId)),!n){let t=document.getElementsByTagName("header");if(t.length&&(n=t[0]),!n)return void console.error("Header with either id=["+e.headerId+"] or tag=<header> could not be found in DOM")}return(i={}).transition=n.style.transition,i.position=n.style.position,i.left=n.style.left,i.top=n.style.top,i.right=n.style.right,n}function a(e){n.style.top=e}function u(){return parseInt(n.style.top)}function m(){if(o){var e=l();o.style.height=e-1+"px"}}function f(){m();var t,i=r(),d=document.body.scrollTop||document.documentElement.scrollTop;console.log("trimtop:"+parseInt(o.style.top)+" scrolltop:"+d),d+(window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight)<Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)&&(s(),a(0),e.slideIn&&(d>=l()?(t=e.slideIn,-1==n.className.split(" ").indexOf(t)&&(n.className.length&&(n.className+=" "),n.className+=t)):function(e){n.className=n.className.replace(new RegExp(e,"g"),"")}(e.slideIn)),i&&w())}function h(e){var n=document.body.scrollTop||document.documentElement.scrollTop;t=n;var o=l(),i=!r();n>o&&u()<=0&&(s(),a(e?-Math.abs(e)+"px":-o+"px"),i&&w())}function p(){if(!(e.fixed||(new Date).getTime()-d<=e.pauseDuration)){var n=document.body.scrollTop||document.documentElement.scrollTop;if(Math.abs(t-n)<=e.delta)return;n>t?h():f(),t=n}}function y(){var e=document.body.scrollTop||document.documentElement.scrollTop,t=l();e<=t?f():parseInt(n.style.top)<0&&h(2*t)}function v(){p()}function g(){e.hideOnClick&&!e.fixed&&(d=(new Date).getTime(),setTimeout(h,e.pauseDuration))}function E(){c(),n&&(!function(){if(n&&!o){var e=n.parentElement;(o=document.createElement("div")).id="dynamicHeaderTrim",e.insertBefore(o,n),m()}else o&&o.remove(),o=null}(),window.addEventListener("resize",y),window.addEventListener("scroll",v),n.addEventListener("click",g))}function w(){e.callback&&e.callback(n)}function H(){window.removeEventListener("resize",y),window.removeEventListener("scroll",v),window.removeEventListener("load",E),n&&n.removeEventListener("click",g),d=0,I(),t=0,scrolled=0,n&&i&&(n.style.transition=i.transition,n.style.position=i.position,n.style.left=i.left,n.style.top=i.top,n.style.right=i.right),o&&o.remove(),o=null,n=null}function I(t){(e=t||{}).fixed=e.fix||e.fixed,e.pauseDuration=e.pauseDuration||e.pauseMoveDuration,void 0===e.headerId&&(e.headerId="header"),void 0===e.delta&&(e.delta=25),void 0===e.hideOnClick&&(e.hideOnClick=!0),void 0===e.pauseDuration&&(e.pauseDuration=250),void 0===e.slideIn&&(e.slideIn="slide-in")}return{init:function(e){H(),I(e),"complete"==document.readyState?E():window.addEventListener("load",E)},destroy:function(){H()}}}();try{module&&(module.exports={init:function(e){this.dheader||(this.dheader=DynamicHeader),this.dheader.init(e)},destroy:function(){this.dheader&&this.dheader.destroy()}})}catch(e){console.log("Using DynamicHeader in non-node environment")}
