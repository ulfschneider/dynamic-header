DynamicHeader=function(){var e,t,n,i,o,d,r=0;function s(){return document.body.scrollTop||document.documentElement.scrollTop}function a(){var e=n?n.offsetTop:0;return e||t.offsetTop}function u(e){t.style.top=e+"px"}function l(){return parseInt(t.style.top)}function c(){return t.offsetHeight}function f(){return a()+c()}function h(){return m()&&l()<0}function m(){return d&&t.style.top&&"fixed"==t.style.position}function y(){!m()&&e.fixed&&a()<=s()?(u(0),v(),d=!0):!m()&&f()<s()?(u(-c()),v(),d=!0):d&&s()<=a()&&(!e.fixed||e.fixed&&a()>0)&&(p(),d=!1)}function p(){E("is-dynamic"),i&&(t.style.transition=i.transition,t.style.position=i.position,t.style.left=i.left,t.style.top=i.top,t.style.right=i.right),function(){n&&n.remove();n=null}()}function v(){w(),t.style.transition="0.2s ease-in-out",t.style.position="fixed",t.style.left="0",t.style.right="0",x("is-dynamic")}function g(){if(e.headerId&&(t=document.getElementById(e.headerId)),!t){var n=document.getElementsByTagName("header");if(n.length&&(t=n[0]),!t)throw"Header with either id=["+e.headerId+"] or tag=<header> could not be found in DOM"}return(i={}).transition=t.style.transition,i.position=t.style.position,i.left=t.style.left,i.top=t.style.top,i.right=t.style.right,t}function w(e){!function(){if(!n){if(!(n=document.getElementById("dynamic-header-trim"))){var e=t.parentElement;n=document.createElement("div")}n.id="dynamic-header-trim",e.insertBefore(n,t)}}(),n&&(n.style.height=e||c()+"px")}function x(e){e&&t.classList.add(e)}function E(e){e&&t.classList.remove(e)}function D(t){if(!e.fixed){var n=h();if(!n||!(m()?l()+c()<=0:f()<s())){var i=c();u(t?-Math.abs(t):-i),n||(E(e.slideIn),B())}}}function I(t){o=(new Date).getTime(),setTimeout(t||D,e.pauseDuration)}function L(){if(!e.fixed&&!((new Date).getTime()-o<=e.pauseDuration)&&m()){var t=s();if(Math.abs(r-t)<=e.delta)return;t>r?D():h()&&(u(0),x(e.slideIn),B())}r=s()}function T(){y(),m()&&(D(),w())}function k(){y(),L()}function b(){y(),r=s(),e.hideOnClick&&!e.fixed&&m()&&I()}function H(){g(),y(),window.addEventListener("resize",T),window.addEventListener("scroll",k),t.addEventListener("click",b)}function B(){e.callback&&e.callback(t)}function M(){o=0,t&&p(),window.removeEventListener("resize",T),window.removeEventListener("scroll",k),window.removeEventListener("load",H),t&&t.removeEventListener("click",b),i=null,r=0,t=null,d=!1}return{init:function(t){M(),function(t){(e=t||{}).fixed=e.fix||e.fixed,e.pauseDuration=e.pauseDuration||e.pauseMoveDuration,void 0===e.headerId&&(e.headerId="header"),void 0===e.delta&&(e.delta=25),void 0===e.hideOnClick&&(e.hideOnClick=!0),void 0===e.pauseDuration&&(e.pauseDuration=250),void 0===e.slideIn&&(e.slideIn="slide-in")}(t),"complete"==document.readyState?H():window.addEventListener("load",H)},destroy:function(){M()}}}();try{module&&(module.exports={init:function(e){this.dheader||(this.dheader=DynamicHeader),this.dheader.init(e)},destroy:function(){this.dheader&&this.dheader.destroy()}})}catch(e){console.log("Using DynamicHeader in non-node environment")}
