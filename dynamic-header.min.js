DynamicHeader=function(){var e,t,n,i,o,r,d,s;function a(){return document.body.scrollTop||document.documentElement.scrollTop}function u(){return g()?m():n.offsetTop}function c(e){n.style.top=e}function l(){return parseInt(n.style.top)}function f(){return n.offsetHeight}function m(){return i?i.offsetTop:0}function h(){return g()?m()+f():u()+f()}function y(){return g()?n.style.top&&l()+f()<=0:h()<a()}function p(){return g()&&l()<0}function v(){!s&&e.fixed&&u()<=a()?(E(),c(0),s=!0):!s&&h()<a()?(y()&&c(-f()),E(),s=!0):s&&a()<=u()&&(w(),s=!1)}function g(){return s}function w(){n&&r&&(L("is-dynamic"),n.style.transition=r.transition,n.style.position=r.position,n.style.left=r.left,n.style.top=r.top,n.style.right=r.right),function(){i&&i.remove();i=null}()}function E(){n&&(I(),n.style.transition="0.2s ease-in-out",n.style.position="fixed",n.style.left="0",n.style.right="0",x("is-dynamic"))}function D(){if(e.headerId&&(n=document.getElementById(e.headerId)),!n){var t=document.getElementsByTagName("header");if(t.length&&(n=t[0]),!n)return void console.error("Header with either id=["+e.headerId+"] or tag=<header> could not be found in DOM")}return n&&((r={}).transition=n.style.transition,r.position=n.style.position,r.left=n.style.left,r.top=n.style.top,r.right=n.style.right),n}function I(e){!function(){if(n&&!i){if(!(i=document.getElementById("dynamic-header-trim"))){var e=n.parentElement;i=document.createElement("div")}i.id="dynamic-header-trim",e.insertBefore(i,n)}}(),i&&(i.style.height=e||f()+"px")}function x(e){e&&n.classList.add(e)}function L(e){e&&n.classList.remove(e)}function T(t){var n=p();if(!n||!y()){var i=f();c(t?-Math.abs(t)+"px":-i+"px"),n||(L(e.slideIn),C())}}function k(t){d=(new Date).getTime(),o&&clearTimeout(o),o=setTimeout(t||T,e.pauseDuration)}function b(){if(!e.fixed&&!((new Date).getTime()-d<=e.pauseDuration)&&g()){var n=a();if(Math.abs(t-n)<=e.delta)return;n>t?T():p()&&(c(0),x(e.slideIn),C()),t=n}}function H(){v(),p()&&(I(),T())}function B(){v(),b()}function M(){v(),e.hideOnClick&&!e.fixed&&g()&&k()}function O(){D(),n&&(window.addEventListener("resize",H),window.addEventListener("scroll",B),n.addEventListener("click",M))}function C(){e.callback&&e.callback(n)}function z(){window.removeEventListener("resize",H),window.removeEventListener("scroll",B),window.removeEventListener("load",O),n&&n.removeEventListener("click",M),d=0,w(),t=0,n=null}return{init:function(t){z(),function(t){(e=t||{}).fixed=e.fix||e.fixed,e.pauseDuration=e.pauseDuration||e.pauseMoveDuration,void 0===e.headerId&&(e.headerId="header"),void 0===e.delta&&(e.delta=25),void 0===e.hideOnClick&&(e.hideOnClick=!0),void 0===e.pauseDuration&&(e.pauseDuration=250),void 0===e.slideIn&&(e.slideIn="slide-in")}(t),"complete"==document.readyState?O():window.addEventListener("load",O)},destroy:function(){z()}}}();try{module&&(module.exports={init:function(e){this.dheader||(this.dheader=DynamicHeader),this.dheader.init(e)},destroy:function(){this.dheader&&this.dheader.destroy()}})}catch(e){console.log("Using DynamicHeader in non-node environment")}
