DynamicHeader=function(){var e,n,t,i,o,c,d=this;function l(){return n.offsetHeight}function r(){return parseInt(n.style.top)<0}function s(){if(config.headerId&&(n=document.getElementById(config.headerId)),!n){let e=document.getElementsByTagName("header");if(e.length&&(n=e[0]),!n)return void console.error("Header with either id=["+config.headerId+"] or tag=<header> could not be found in DOM")}return(o={}).transition=n.style.transition,o.position=n.style.position,o.left=n.style.left,o.top=n.style.top,o.right=n.style.right,n.style.transition="0.2s ease-in-out",n.style.position="fixed",n.style.top="0",n.style.left="0",n.style.right="0",n}function a(e){n.style.top=e}function f(){if(i){var e=l();n=e-1+"px",i.style.height=n}var n}function u(){if(f(),r()){var e=document.body.scrollTop||document.documentElement.scrollTop;e+(window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight)<Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight)&&(a(0),d.config.slideIn&&(e>=l()?(t=d.config.slideIn,-1==n.className.split(" ").indexOf(t)&&(n.className.length&&(n.className+=" "),n.className+=t)):function(e){n.className=n.className.replace(new RegExp(e,"g"),"")}(d.config.slideIn)),E())}var t}function m(){if(!r()){var e=document.body.scrollTop||document.documentElement.scrollTop,n=l();e>n&&(a(-n+"px"),E())}}function g(){if(!(d.config.fixed||(new Date).getTime()-c<=d.config.pauseDuration)){var n=document.body.scrollTop||document.documentElement.scrollTop;if(Math.abs(e-n)<=d.config.delta)return;n>e?m():u(),e=n}}function h(){u()}function y(){g()}function p(){d.config.hideOnClick&&!d.config.fixed&&(c=(new Date).getTime(),m())}function v(){s(),n&&(t=document.body.firstElementChild,function(){if(!d.config.overlay&&n&&t&&!i){var e=t.parentElement;(i=document.createElement("div")).id="dynamicHeaderTrim",e.insertBefore(i,t),f()}else i&&i.remove(),i=null}(),window.addEventListener("resize",h),window.addEventListener("scroll",y),n.addEventListener("click",p))}function E(){d.config.callback&&d.config.callback(n)}function w(){window.removeEventListener("resize",h),window.removeEventListener("scroll",y),window.removeEventListener("load",v),n&&n.removeEventListener("click",p),c=0,H(),e=0,0,n&&o&&(n.style.transition=o.transition,n.style.position=o.position,n.style.left=o.left,n.style.top=o.top,n.style.right=o.right),i&&i.remove(),i=null,n=null,t=null}function H(e){d.config=e||{},d.config.fixed=d.config.fix||d.config.fixed,d.config.pauseDuration=d.config.pauseDuration||d.config.pauseMoveDuration,void 0===d.config.headerId&&(d.config.headerId="header"),void 0===d.config.delta&&(d.config.delta=5),void 0===d.config.hideOnClick&&(d.config.hideOnClick=!0),void 0===d.config.pauseDuration&&(d.config.pauseDuration=1e3),void 0===d.config.slideIn&&(d.config.slideIn="slide-in")}return{init:function(e){w(),H(e),"complete"==document.readyState?v():window.addEventListener("load",v)},destroy:function(){w()}}}();try{module&&(module.exports={init:function(e){this.dheader||(this.dheader=DynamicHeader),this.dheader.init(e)},destroy:function(){this.dheader&&this.dheader.destroy()}})}catch(e){console.log("Using DynamicHeader in non-node environment")}
